(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],p=0,m=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={login:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([9,"chunk-vendors","chunk-common"]),n()})({"0a09":function(e,t,n){"use strict";var r=n("43bd"),a=n.n(r);a.a},"2a22":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("cc00"),a=n("0712"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header",{ref:"header"}),n("div",{staticClass:"paddingTop outermostShell"},[n("div",{staticClass:"positionAbs defaultImg"},[n("img",{attrs:{src:e.loginBaseImg,alt:""}})]),e.isSuccess?n("div",{staticClass:"loginT-box positionAbs"},[n("div",{staticClass:"loginT-wrapper"},[e._m(0),n("div",{staticClass:"loginSuName fontSize22"},[e._v("登录成功")]),e.isStaff?n("div",{staticClass:"InternalPurchase"},[n("div",{staticClass:"btnBox"},[n("button",{staticClass:"ordinaryBtn",on:{click:e.jumpTo}},[e._v("普通入口")]),n("button",{staticClass:"InternalBtn marLeft12",on:{click:e.staffLogin}},[e._v("内购入口")])]),n("div",{staticClass:"loginE"},[e._v("您在登录或购买过程中遇到任何问题，可反馈至以下邮箱jason@bestseller.com.cn 我们会为您及时解决")])]):n("div",{staticClass:"ordinary",attrs:{id:"ordinary"},on:{click:e.jumpTo}},[n("button",[e._v(" 开始购物 "),n("span",{attrs:{id:"ordinaryDown"}},[e._v("("+e._s(this.ordinaryWaitTime)+"s)")])])])])]):n("div",{staticClass:"login-box positionAbs"},[n("div",{staticClass:"login-wrapper"},[n("p",{staticClass:"login-ph"},[e._v("会员登录")]),n("form",{staticClass:"login-form",attrs:{method:"post"}},[n("div",{staticClass:"login-init"},[n("div",{staticClass:"username marb20 publicFlex"},[n("label",{staticClass:"text-r",attrs:{for:"username"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"请输入手机号登录"},domProps:{value:e.username},on:{blur:e.validatePhone,input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("span",{staticClass:"color-red"},[e._v(e._s(e.usernameTips))])]),n("div",{staticClass:"security marb20 publicFlex"},[n("div",{staticClass:"publicFlex"},[n("label",{staticClass:"text-r",attrs:{for:"security"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.security,expression:"security"}],attrs:{type:"text",name:"security",placeholder:"请输入正确答案"},domProps:{value:e.security},on:{blur:e.clearLoginTips,input:function(t){t.target.composing||(e.security=t.target.value)}}})]),n("img",{attrs:{src:e.securityCodeImg,alt:""},on:{click:e.securityCode}})]),n("div",{staticClass:"password marb40"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",name:"password",placeholder:"请输入短信验证码"},domProps:{value:e.password},on:{blur:e.clearLoginTips,input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{staticClass:"get-msg-btn",attrs:{type:"button"},on:{click:e.getCodeBtn}},[e._v(e._s(e.validateCode))]),n("span",{staticClass:"color-red"},[e._v(e._s(e.securityTips))])])]),e.loadFlag?n("input",{staticClass:"login-btn",attrs:{type:"button",value:"立即登录"},on:{click:e.onLogin}}):n("input",{staticClass:"login-btn",attrs:{type:"button",value:"Loading..."}}),n("span",{staticClass:"color-red"},[e._v(e._s(e.loginTips))])]),n("div",{staticClass:"tip"},[e._v("若您尚未注册会员，"),n("span",{staticClass:"color-red cursorP",on:{click:e.goRegister}},[e._v("请点击注册")])])])])]),n("Footer")],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loginSuimg"},[r("img",{attrs:{src:n("fa5a"),alt:""}})])}],i=(n("caad"),n("c975"),n("2532"),n("96cf"),n("1da1")),c=n("7ded"),u={name:"app",data:function(){return{env:Object({NODE_ENV:"production",VUE_APP_VERSION:"1.0.2",VUE_APP_SITE:"https://www.jackjones.com.cn",VUE_APP_TITLE:"JACK & JONES中国官方购物网站",VUE_APP_BRAND:"JACKJONES",BASE_URL:"/"}),loginBaseImg:"https://cdn.bestseller.com.cn/assets/pc/".concat("JACKJONES","/images/loginBottom.jpg"),isSuccess:!1,isStaff:!1,username:"",security:"",password:"",securityCodeImg:"",usernameTips:"",securityTips:"",waitTime:60,ordinaryWaitTime:3,validateCode:"获取验证码",loginTips:"",employeeDa:"",loadFlag:!0}},mounted:function(){this.securityCode();var e=this.$cookies.get("countDownNum"),t=this.$cookies.get("countDownphone");e&&t?(this.waitTime=e,this.username=t,this.countDown()):(this.$cookies.remove("countDownNum"),this.$cookies.remove("countDownphone")),localStorage.clear(),this.$td("flow_login_1")},methods:{securityCode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])();case 2:n=t.sent,0===n.code&&(e.securityCodeImg=n.data.security);case 4:case"end":return t.stop()}}),t)})))()},validatePhone:function(){var e=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return""==this.username?(this.usernameTips="请输入手机号码",!1):e.test(this.username)?(this.usernameTips="",!0):(this.usernameTips="手机格式不正确",!1)},clearLoginTips:function(){this.loginTips=""},getCodeBtn:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password="",e.$td("flow_login_getcode_2"),!e.validatePhone()||""==e.security||"获取验证码"!==e.validateCode){t.next=8;break}return e.$cookies.set("countDownphone",e.username),t.next=6,Object(c["c"])({phone:e.username,securityValue:e.security});case 6:n=t.sent,0===n.code?e.countDown():(e.securityTips=n.msg,setTimeout((function(){e.securityTips=""}),2e3));case 8:case"end":return t.stop()}}),t)})))()},countDown:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:0===e.waitTime?(e.$cookies.remove("countDownNum"),e.$cookies.remove("countDownphone"),e.validateCode="获取验证码",e.waitTime=60):(e.validateCode="("+e.waitTime+")后重新发送",e.waitTime--,e.$cookies.set("countDownNum",e.waitTime),setTimeout((function(){e.countDown()}),1e3));case 1:case"end":return t.stop()}}),t)})))()},countDownOrdinary:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:0===e.ordinaryWaitTime?(e.ordinaryWaitTime=3,e.jumpTo()):(e.ordinaryWaitTime--,setTimeout((function(){e.countDownOrdinary()}),1e3));case 1:case"end":return t.stop()}}),t)})))()},onLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$td("flow_login_confirm_3","",{phone:e.username}),!e.validatePhone()){t.next=28;break}if(""!==e.password){t.next=6;break}e.loginTips="输入正确的验证码",t.next=28;break;case 6:return e.loadFlag=!1,t.next=9,Object(c["f"])({username:e.username,password:e.password});case 9:if(n=t.sent,0!==n.code){t.next=25;break}return e.$cookies.remove("countDownNum"),e.$cookies.remove("countDownphone"),e.loadFlag=!0,t.next=16,Object(c["e"])(e.username);case 16:r=t.sent,0===r.code&&r.data&&""!==r.data.staffId?(e.isStaff=!0,e.employeeDa=r.data.staffId):e.countDownOrdinary(),e.isSuccess=!0,localStorage.setItem("loginInfo",!0),localStorage.setItem("phone",e.username),e.$refs.header.init(),e.$td("flow_login_success_4a","",{phone:e.username}),t.next=28;break;case 25:n.msg.includes("注册")?e.loginTips="您还不是会员，请点击下方注册":e.loginTips=n.msg,setTimeout((function(){e.loadFlag=!0,e.loginTips=""}),2e3),e.$td("flow_login_fail_4b",n.msg);case 28:case"end":return t.stop()}}),t)})))()},goRegister:function(){location.href="/register.html"},jumpTo:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=localStorage.getItem("jumpToURL"),t?(t.indexOf("login.html")>-1?location.href="/member.html":location.href=t,localStorage.removeItem("jumpToURL")):location.href="index.html";case 2:case"end":return e.stop()}}),e)})))()},staffLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["b"])({employeeNO:e.employeeDa});case 2:n=t.sent,0===n.code&&(r=JSON.stringify({employeeDa:e.employeeDa,phone:e.username,isStaff:!0}),localStorage.setItem("isStaff",r),e.jumpTo());case 4:case"end":return t.stop()}}),t)})))()}}},l=u,p=(n("0a09"),n("2877")),m=Object(p["a"])(l,o,s,!1,null,null,null),d=m.exports;r["a"].config.productionTip=!1,new r["a"]({mixins:[a["a"]],render:function(e){return e(d)}}).$mount("#app")},"43bd":function(e,t,n){},9:function(e,t,n){e.exports=n("2a22")}});